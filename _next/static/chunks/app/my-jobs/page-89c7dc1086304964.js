(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894,21],{2635:function(n,t,e){Promise.resolve().then(e.bind(e,3906))},3906:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return k}});var i=e(3827),o=e(4090),r=e(7907),a=e(4908);e(4158),e(1508);var c=e(3151),l=e(8998),s=e(6490),h=e(6578),u=e(1483),d=e(7805),g=e(2015),p=e(8020),m=e(6007),f=e(6021);let x={SELF_FIXING:{label:"Đang tự sửa",color:"#1877f2",icon:c.Z},NEED_PRO:{label:"Cần thợ",color:"#f59e0b",icon:l.Z},ASSIGNED:{label:"Đ\xe3 c\xf3 thợ",color:"#10b981",icon:s.Z},IN_PROGRESS:{label:"Thợ đang l\xe0m",color:"#10b981",icon:s.Z},DONE:{label:"Ho\xe0n th\xe0nh",color:"#10b981",icon:h.Z},CANCELLED:{label:"Đ\xe3 hủy",color:"#ef4444",icon:u.Z}};function k(){var n;let t=(0,r.useRouter)(),[e,l]=(0,o.useState)([]),[s,h]=(0,o.useState)(null),[u,k]=(0,o.useState)(!0),[y,b]=(0,o.useState)(null);(0,o.useEffect)(()=>{(0,a.xI)(),v()},[]);let v=()=>{k(!0),setTimeout(()=>{let n=(0,a.sQ)(),t=(0,a.nv)();l(n),h(t),k(!1)},300)},w=n=>{"SELF_FIXING"===n.status||"NEED_PRO"===n.status||"ASSIGNED"===n.status||"IN_PROGRESS"===n.status?t.push("/issue/".concat(n.caseId,"/trial/").concat(n.currentTrialId||n.recommendedTrialIds[0],"?jobId=").concat(n.id)):t.push("/my-jobs/".concat(n.id))},S=(n,t)=>{t.stopPropagation(),b({isOpen:!0,title:"X\xe1c nhận ho\xe0n th\xe0nh",message:"Bạn đ\xe3 tự sửa xong vấn đề n\xe0y?",type:"info",confirmText:"X\xe1c nhận",onConfirm:()=>{(0,a.ze)(n),v(),f.toast.success("Đ\xe3 đ\xe1nh dấu ho\xe0n th\xe0nh!"),b(null)},onCancel:()=>b(null)})},N=(n,t)=>{t.stopPropagation(),b({isOpen:!0,title:"Hủy việc",message:"Bạn muốn hủy việc n\xe0y?",type:"warning",confirmText:"Hủy việc",onConfirm:()=>{(0,a.EA)(n),v(),f.toast.info("Đ\xe3 hủy việc"),b(null)},onCancel:()=>b(null)})},j=(n,t)=>{t.stopPropagation(),b({isOpen:!0,title:"X\xf3a việc",message:"Bạn muốn x\xf3a việc n\xe0y? H\xe0nh động n\xe0y kh\xf4ng thể ho\xe0n t\xe1c.",type:"danger",confirmText:"X\xf3a",onConfirm:()=>{(0,a.CC)(n),v(),f.toast.success("Đ\xe3 x\xf3a việc"),b(null)},onCancel:()=>b(null)})},C=[...e].sort((n,t)=>{let e=["SELF_FIXING","NEED_PRO","ASSIGNED","IN_PROGRESS"],i=e.includes(n.status),o=e.includes(t.status);return i&&!o?-1:!i&&o?1:new Date(t.updatedAt)-new Date(n.updatedAt)});return(0,i.jsxs)("div",{className:"page",style:{paddingBottom:"100px"},children:[(0,i.jsxs)("div",{style:{marginBottom:"24px",paddingTop:"8px"},children:[(0,i.jsx)("h1",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"8px",color:"#212529"},children:"Việc của t\xf4i"}),(0,i.jsx)("p",{style:{fontSize:"14px",color:"#65676b",lineHeight:"1.5"},children:"Quản l\xfd c\xe1c việc sửa chữa của bạn"})]}),s&&(0,i.jsxs)("div",{onClick:()=>w(s),style:{padding:"16px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",color:"white",marginBottom:"24px",cursor:"pointer",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,i.jsx)("span",{style:{fontSize:"24px"},children:s.caseIcon}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:s.caseLabel}),(0,i.jsxs)("div",{style:{fontSize:"12px",opacity:.9},children:[null===(n=x[s.status])||void 0===n?void 0:n.label," • Bước ",s.currentStep+1]})]}),(0,i.jsx)(d.Z,{size:20,color:"white"})]}),(0,i.jsx)("div",{style:{fontSize:"12px",opacity:.9,marginTop:"8px"},children:"\uD83D\uDC46 Chạm để tiếp tục"})]}),u?(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Array.from({length:3}).map((n,t)=>(0,i.jsx)("div",{className:"card",style:{padding:"16px"},children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,i.jsx)(p.Z,{width:"32px",height:"32px",variant:"avatar"}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)(p.Z,{width:"60%",height:"16px",style:{marginBottom:"8px"}}),(0,i.jsx)(p.Z,{width:"40%",height:"12px",style:{marginBottom:"8px"}}),(0,i.jsx)(p.Z,{width:"30%",height:"11px"})]})]})},t))}):0===C.length?(0,i.jsx)(g.Z,{icon:(0,i.jsx)(c.Z,{size:64,color:"var(--text-tertiary)"}),title:"Chưa c\xf3 việc n\xe0o",description:"Bắt đầu tự sửa một vấn đề để tạo việc mới",action:(0,i.jsx)("button",{className:"btn btn-primary",onClick:()=>t.push("/"),style:{maxWidth:"200px"},children:"T\xecm vấn đề"})}):(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:C.map(n=>{var t,e,o;let r=(null===(t=x[n.status])||void 0===t?void 0:t.icon)||c.Z,a=(null===(e=x[n.status])||void 0===e?void 0:e.color)||"#65676b",l=["SELF_FIXING","NEED_PRO","ASSIGNED","IN_PROGRESS"].includes(n.status);return(0,i.jsx)("div",{onClick:()=>w(n),className:"card",style:{cursor:"pointer",transition:"all 0.2s",padding:"16px",border:l?"2px solid ".concat(a):"1px solid #e4e6eb",background:l?"white":"#f9fafb",opacity:l?1:.7},onMouseEnter:n=>{n.currentTarget.style.transform="translateX(4px)",n.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateX(0)",n.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.06)"},children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[(0,i.jsx)("span",{style:{fontSize:"32px"},children:n.caseIcon}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,i.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#212529",flex:1},children:n.caseLabel}),(0,i.jsx)(r,{size:18,color:a})]}),(0,i.jsxs)("div",{style:{fontSize:"12px",color:"#65676b",marginBottom:"8px"},children:[(0,i.jsx)("span",{style:{color:a,fontWeight:"500"},children:null===(o=x[n.status])||void 0===o?void 0:o.label}),"SELF_FIXING"===n.status&&(0,i.jsxs)("span",{children:[" • Đ\xe3 thử ",n.attempts.length," c\xe1ch"]})]}),(0,i.jsx)("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"8px"},children:new Date(n.updatedAt).toLocaleString("vi-VN")}),l&&(0,i.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[(0,i.jsx)("button",{onClick:t=>S(n.id,t),style:{padding:"6px 12px",fontSize:"12px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Đ\xe3 xong"}),(0,i.jsx)("button",{onClick:t=>N(n.id,t),style:{padding:"6px 12px",fontSize:"12px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Hủy"})]}),!l&&(0,i.jsx)("button",{onClick:t=>j(n.id,t),style:{padding:"6px 12px",fontSize:"12px",background:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",marginTop:"8px"},children:"X\xf3a"})]}),(0,i.jsx)(d.Z,{size:20,color:"#dee2e6"})]})},n.id)})}),y&&(0,i.jsx)(m.Z,{isOpen:y.isOpen,title:y.title,message:y.message,type:y.type,confirmText:y.confirmText,onConfirm:y.onConfirm,onCancel:y.onCancel})]})}},6007:function(n,t,e){"use strict";e.d(t,{Z:function(){return r}});var i=e(3827),o=e(2235);function r(n){let{isOpen:t,title:e,message:r,confirmText:a="X\xe1c nhận",cancelText:c="Hủy",onConfirm:l,onCancel:s,type:h="warning"}=n;if(!t)return null;let u={warning:{iconColor:"var(--color-warning)",buttonClass:"btn-warning"},danger:{iconColor:"var(--color-error)",buttonClass:"btn-danger"},info:{iconColor:"var(--color-info)",buttonClass:"btn-primary"}},d=u[h]||u.warning;return(0,i.jsx)("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title",onClick:s,onKeyDown:n=>{"Escape"===n.key&&s()},children:(0,i.jsxs)("div",{className:"card",style:{maxWidth:"400px",width:"100%",padding:"var(--space-lg)",background:"var(--shell-bg)"},onClick:n=>n.stopPropagation(),children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"var(--space-md)"},children:[(0,i.jsx)("h3",{id:"confirm-dialog-title",style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",color:"var(--text-primary)"},children:e}),(0,i.jsx)("button",{onClick:s,"aria-label":"Đ\xf3ng",style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",color:"var(--text-secondary)"},children:(0,i.jsx)(o.Z,{size:20,"aria-hidden":"true"})})]}),(0,i.jsx)("p",{style:{fontSize:"var(--text-base)",color:"var(--text-secondary)",marginBottom:"var(--space-lg)",lineHeight:"var(--leading-relaxed)"},children:r}),(0,i.jsxs)("div",{style:{display:"flex",gap:"var(--space-sm)",justifyContent:"flex-end"},children:[(0,i.jsx)("button",{className:"btn btn-secondary",onClick:s,style:{width:"auto",minWidth:"80px"},children:c}),(0,i.jsx)("button",{className:"btn ".concat(d.buttonClass),onClick:l,style:{width:"auto",minWidth:"80px"},children:a})]})]})})}},2015:function(n,t,e){"use strict";e.d(t,{Z:function(){return o}});var i=e(3827);function o(n){let{icon:t,title:e,description:o,action:r,className:a=""}=n;return(0,i.jsxs)("div",{className:"empty-state ".concat(a),children:[t&&(0,i.jsx)("div",{className:"empty-state-icon",children:t}),e&&(0,i.jsx)("h3",{className:"empty-state-title",children:e}),o&&(0,i.jsx)("p",{className:"empty-state-description",children:o}),r&&(0,i.jsx)("div",{style:{marginTop:"var(--space-md)"},children:r})]})}},8020:function(n,t,e){"use strict";e.d(t,{Z:function(){return o}});var i=e(3827);function o(n){let{width:t,height:e,className:o="",variant:r="text",count:a=1}=n,c="skeleton ".concat("text"===r?"skeleton-text":""," ").concat("avatar"===r?"skeleton-avatar":""," ").concat("card"===r?"skeleton-card":""," ").concat(o),l={width:t||("text"===r?"100%":void 0),height:e||("text"===r?"1em":"avatar"===r?"40px":void 0)};return a>1?(0,i.jsx)(i.Fragment,{children:Array.from({length:a}).map((n,t)=>(0,i.jsx)("div",{className:c,style:l},t))}):(0,i.jsx)("div",{className:c,style:l})}},6021:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return m},toast:function(){return p}});var i=e(3827),o=e(4090),r=e(6578),a=e(1483),c=e(1524),l=e(8814),s=e(2235);let h={success:r.Z,error:a.Z,warning:c.Z,info:l.Z};function u(n){let{id:t,message:e,type:r="info",duration:a=3e3,onClose:c}=n,u=h[r]||l.Z;return(0,o.useEffect)(()=>{if(a>0){let n=setTimeout(()=>{null==c||c(t)},a);return()=>clearTimeout(n)}},[a,t,c]),(0,i.jsxs)("div",{className:"toast toast-".concat(r),role:"alert","aria-live":"polite",children:[(0,i.jsx)(u,{size:20,color:"var(--color-".concat("error"===r?"error":"success"===r?"success":"warning"===r?"warning":"info",")")}),(0,i.jsx)("div",{style:{flex:1,fontSize:"14px",color:"var(--text-primary)"},children:e}),(0,i.jsx)("button",{onClick:()=>null==c?void 0:c(t),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",color:"var(--text-secondary)"},"aria-label":"Đ\xf3ng th\xf4ng b\xe1o",children:(0,i.jsx)(s.Z,{size:16})})]})}let d=0,g=[],p={success:function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,e="toast-".concat(++d);return g.forEach(i=>i({id:e,message:n,type:"success",duration:t})),e},error:function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3,e="toast-".concat(++d);return g.forEach(i=>i({id:e,message:n,type:"error",duration:t})),e},warning:function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,e="toast-".concat(++d);return g.forEach(i=>i({id:e,message:n,type:"warning",duration:t})),e},info:function(n){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,e="toast-".concat(++d);return g.forEach(i=>i({id:e,message:n,type:"info",duration:t})),e}};function m(){let[n,t]=(0,o.useState)([]),e=(0,o.useCallback)(n=>{t(t=>[...t,n])},[]),r=(0,o.useCallback)(n=>{t(t=>t.filter(t=>t.id!==n))},[]);return((0,o.useEffect)(()=>(g.push(e),()=>{g=g.filter(n=>n!==e)}),[e]),0===n.length)?null:(0,i.jsx)("div",{className:"toast-container","aria-live":"polite","aria-atomic":"true",children:n.map(n=>(0,i.jsx)(u,{id:n.id,message:n.message,type:n.type,duration:n.duration,onClose:r},n.id))})}},1508:function(n,t,e){"use strict";e.d(t,{r:function(){return o}});let i={"toilet-clogged":"Nghẹt bồn cầu, nước kh\xf4ng tr\xf4i","toilet-leak":"Bồn cầu r\xf2 nước","toilet-running":"Bồn cầu chảy nước li\xean tục","sink-clogged":"Nghẹt bồn rửa, nước tho\xe1t chậm","sink-leak":"Bồn rửa r\xf2 nước","faucet-drip":"V\xf2i nước nhỏ giọt li\xean tục","shower-clogged":"Nghẹt v\xf2i sen, nước kh\xf4ng tho\xe1t","shower-leak":"V\xf2i sen r\xf2 nước","shower-water-cold":"Nước tắm kh\xf4ng n\xf3ng, chỉ lạnh hoặc hơi ấm","low-pressure":"Nước chảy yếu, \xe1p lực thấp","pipe-leak":"Đường ống r\xf2 nước","pipe-burst":"Đường ống vỡ, nước phun mạnh","water-pressure":"Nước chảy yếu hoặc kh\xf4ng đều","pipe-water-noise":"Ống nước k\xeau ồn","water-smells-bad":"Nước c\xf3 m\xf9i lạ","faucet-drip-after-close":"V\xf2i nước nhỏ giọt sau khi kh\xf3a","faucet-vibrating":"V\xf2i nước rung khi mở","faucet-weak-spray":"V\xf2i nước phun tản, tia kh\xf4ng đều","floor-drain-backflow":"Nước tr\xe0n ngược từ cống s\xe0n","shower-drain-slow":"Nước tho\xe1t rất chậm khi tắm","sink-under-leak":"Nước rỉ dưới bồn rửa","water-flow-unstable":"Nước chảy l\xfac mạnh l\xfac yếu","low-water-pressure":"\xc1p lực nước yếu to\xe0n bộ nh\xe0","unstable-hot-water":"Nước n\xf3ng l\xfac c\xf3 l\xfac kh\xf4ng","multi-drain-slow":"Nhiều chỗ tho\xe1t nước đều chậm","water-splash-back":"Xả nước chỗ n\xe0y, nước bắn ngược chỗ kh\xe1c","water-smell-after-rain":"Nước c\xf3 m\xf9i sau mưa","cloudy-water-first-open":"Nước đục khi mới mở","floor-drain-smell-dry":"Cống s\xe0n bốc m\xf9i khi kh\xf4 l\xe2u","washer-drain-backflow":"Nước chảy ngược khi m\xe1y giặt xả","drain-slow-only-when-rain":"Tho\xe1t nước chậm chỉ khi mưa lớn","air-conditioner-weak-cooling":"M\xe1y lạnh m\xe1t yếu, l\xfac m\xe1t l\xfac kh\xf4ng","air-conditioner-drip-light":"M\xe1y lạnh nhỏ nước nhẹ","fan-noise-when-running":"Quạt k\xeau to khi chạy","bedroom-musty-smell":"Ph\xf2ng ngủ c\xf3 m\xf9i ẩm","floor-feels-damp":"S\xe0n ẩm, đi ch\xe2n trần thấy lạnh","floor-musty-smell":"S\xe0n c\xf3 m\xf9i ẩm, m\xf9i h\xf4i nhẹ","floor-tile-hollow-sound":"Gạch s\xe0n k\xeau lộp bộp khi đi","intermittent-smell":"M\xf9i thoảng qua rồi hết","low-frequency-hum":"Nghe tiếng \xf9 nền trong ph\xf2ng","night-house-noise":"Nh\xe0 ph\xe1t tiếng k\xeau ban đ\xeam","time-based-smell":"M\xf9i xuất hiện theo thời điểm","unknown-house-smell":"Nh\xe0 c\xf3 m\xf9i lạ, kh\xf4ng r\xf5 từ đ\xe2u","vibration-from-outside":"Nh\xe0 rung nhẹ khi c\xf3 xe lớn chạy qua","water-running-sound":"Nghe tiếng nước chảy d\xf9 kh\xf4ng d\xf9ng","outlet-spark":"Ổ cắm ph\xe1t tia lửa khi cắm","outlet-no-power":"Ổ cắm mất điện, kh\xf4ng hoạt động","switch-broken":"C\xf4ng tắc hỏng, kh\xf4ng bật/tắt được","breaker-tripped":"Cầu dao nhảy, mất điện","frequent-tripping":"Cầu dao nhảy thường xuy\xean","no-power":"Mất điện to\xe0n bộ","flickering-lights":"Đ\xe8n nhấp nh\xe1y, kh\xf4ng ổn định","burning-smell":"C\xf3 m\xf9i kh\xe9t từ ổ cắm hoặc thiết bị","hot-outlet":"Ổ cắm n\xf3ng khi chạm v\xe0o","appliance-not-working":"Thiết bị kh\xf4ng hoạt động","appliance-spark":"Thiết bị ph\xe1t tia lửa khi bật","socket-intermittent":"Ổ cắm l\xfac c\xf3 điện l\xfac kh\xf4ng","light-flicker":"Đ\xe8n chớp chớp khi bật","breaker-trips-often":"CB hay nhảy khi d\xf9ng điện","socket-warm-when-use":"Ổ cắm n\xf3ng khi sử dụng","power-strip-auto-off":"Ổ k\xe9o d\xe0i tự tắt khi d\xf9ng","switch-click-noise":"C\xf4ng tắc k\xeau lạch cạch khi bật","stove-not-igniting":"Bếp kh\xf4ng bật được","gas-leak":"C\xf3 m\xf9i gas, nghi r\xf2 rỉ","stove-heating":"Bếp kh\xf4ng n\xf3ng, kh\xf4ng đun được","hood-not-working":"M\xe1y h\xfat m\xf9i kh\xf4ng hoạt động","hood-noisy":"M\xe1y h\xfat m\xf9i k\xeau to, ồn","hood-smoke":"M\xe1y h\xfat m\xf9i kh\xf4ng h\xfat được kh\xf3i","cabinet-door-broken":"Cửa tủ hỏng, kh\xf4ng đ\xf3ng được","cabinet-sagging":"Tủ bị xệ, nghi\xeang","garbage-disposal":"M\xe1y xử l\xfd r\xe1c hỏng, kh\xf4ng hoạt động","stove-gas-smell":"Bếp c\xf3 m\xf9i gas thoang thoảng","range-hood-weak-suction":"M\xe1y h\xfat m\xf9i h\xfat yếu","sink-smell-kitchen":"Bồn rửa bếp bốc m\xf9i","stove-ignition-slow":"Bếp kh\xf3 đ\xe1nh lửa","wall-crack":"Tường c\xf3 vết nứt","wall-damp":"Tường ẩm, ướt","wall-peeling":"Tường bong tr\xf3c, sơn bong","wall-mold":"Tường c\xf3 mốc, đen","ceiling-leak":"Trần bị r\xf2 rỉ, c\xf3 nước nhỏ giọt","ceiling-crack":"Trần c\xf3 vết nứt","ceiling-stain":"Trần c\xf3 vết ố, m\xe0u v\xe0ng/n\xe2u","ceiling-sagging":"Trần bị xệ, l\xf5m xuống","floor-squeaky":"S\xe0n k\xeau c\xf3t k\xe9t khi đi","floor-loose":"S\xe0n lỏng, lung lay","floor-crack":"S\xe0n c\xf3 vết nứt","floor-uneven":"S\xe0n kh\xf4ng bằng phẳng, lồi l\xf5m","window-leak":"Cửa sổ r\xf2 nước khi mưa","window-stuck":"Cửa sổ kẹt, kh\xf4ng mở/đ\xf3ng được","window-glass-crack":"K\xednh cửa sổ vỡ, nứt","window-draft":"Cửa sổ gi\xf3 l\xf9a, lạnh","stair-loose":"Bậc thang lỏng, lung lay","stair-squeaky":"Cầu thang k\xeau khi đi","stair-rail-loose":"Tay vịn lỏng, kh\xf4ng chắc","wall-damp-slow-spread":"Tường bị ẩm, loang chậm","ceiling-water-stain":"Trần c\xf3 vết nước cũ nhưng chưa nhỏ","wall-hairline-crack":"Tường nứt nhẹ, chưa lan nhanh","ceiling-crack-sound":"Trần k\xeau lạch cạch khi y\xean tĩnh","ceiling-musty-smell":"Trần c\xf3 m\xf9i ẩm nhẹ","roof-leak":"Dột nước khi mưa","roof-tile-broken":"Ng\xf3i vỡ, thiếu","roof-sagging":"M\xe1i bị xệ, l\xf5m xuống","roof-gutter-clogged":"Ồn lớn khi mưa gi\xf3","drainage-issue":"Thấm nhẹ, ẩm tường","yard-flooding":"S\xe2n bị ngập khi mưa","fence-broken":"H\xe0ng r\xe0o hỏng, đổ","balcony-leak":"Ban c\xf4ng r\xf2 nước khi mưa","balcony-rail-loose":"Lan can ban c\xf4ng lỏng","balcony-tile-loose":"Gạch ban c\xf4ng lỏng, tuột","gutter-clogged":"Ống tho\xe1t nước mưa nghẹt, nước tr\xe0n","gutter-leak":"Ống tho\xe1t nước mưa r\xf2 rỉ","gutter-detached":"Ống tho\xe1t nước mưa bị tuột, rơi","roof-leak-only-when-rain":"M\xe1i chỉ dột khi mưa lớn","yard-drain-slow-after-rain":"S\xe2n tho\xe1t nước chậm sau mưa","outdoor-drain-smell":"Cống ngo\xe0i trời bốc m\xf9i","door-stuck":"Cửa kẹt, kh\xf4ng mở/đ\xf3ng được","door-wont-close":"Cửa kh\xf4ng đ\xf3ng được, kh\xf4ng khớp","door-squeaky":"Cửa k\xeau khi mở/đ\xf3ng","door-lock-broken":"Kh\xf3a cửa hỏng, kh\xf4ng kh\xf3a được","lock-stuck":"Kh\xf3a kẹt, kh\xf4ng xoay được","lock-key-broken":"Ch\xeca kh\xf3a g\xe3y trong ổ kh\xf3a","lock-not-latching":"Kh\xf3a kh\xf4ng khớp, kh\xf4ng v\xe0o được","hinge-loose":"Bản lề lỏng, cửa lung lay","hinge-squeaky":"Bản lề k\xeau khi mở/đ\xf3ng","hinge-rusty":"Bản lề gỉ s\xe9t, kh\xf3 mở","handle-loose":"Tay nắm lỏng, lung lay","handle-broken":"Tay nắm hỏng, g\xe3y","door-lock-hard-to-turn":"Kh\xf3a cửa kh\xf3 xoay","window-draft-noise":"Cửa sổ lọt gi\xf3, k\xeau khi c\xf3 gi\xf3","sliding-door-stuck":"Cửa l\xf9a kh\xf3 trượt, hay kẹt","door-squeak-noise":"Cửa k\xeau cọt kẹt khi mở","window-not-sealed":"Cửa sổ đ\xf3ng kh\xf4ng k\xedn, hở khe","handle-wont-turn":"Tay nắm kh\xf4ng xoay được"},o=n=>i[n]||n},4908:function(n,t,e){"use strict";e.d(t,{CC:function(){return m},Cq:function(){return o},EA:function(){return g},Jk:function(){return l},YQ:function(){return r},nv:function(){return c},rj:function(){return h},sQ:function(){return a},xI:function(){return f},zF:function(){return u},ze:function(){return d}});let i="repair_jobs";function o(n,t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=r(n);if(i)return i;let o={id:"job-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),caseId:n,caseLabel:t.label,caseIcon:t.icon,status:"SELF_FIXING",currentStep:0,currentTrialId:e[0]||null,recommendedTrialIds:e,attempts:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},c=a();return c.push(o),p(c),o}function r(n){return a().find(t=>t.caseId===n&&("SELF_FIXING"===t.status||"NEED_PRO"===t.status||"ASSIGNED"===t.status||"IN_PROGRESS"===t.status))||null}function a(){try{let n=localStorage.getItem(i);return n?JSON.parse(n):[]}catch(n){return console.error("Error reading jobs from storage:",n),[]}}function c(){return a().find(n=>"SELF_FIXING"===n.status||"NEED_PRO"===n.status||"ASSIGNED"===n.status||"IN_PROGRESS"===n.status)||null}function l(n){return a().find(t=>t.id===n)||null}function s(n,t){let e=a(),i=e.findIndex(t=>t.id===n);return -1===i?(console.error("Job not found:",n),null):(e[i]={...e[i],...t,updatedAt:new Date().toISOString()},p(e),e[i])}function h(n,t,e){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=l(n);if(!o)return null;let r={trialId:t,step:o.currentStep+1,result:e,notes:i,timestamp:new Date().toISOString()};return s(n,{attempts:[...o.attempts,r],currentStep:o.currentStep+1})}function u(n,t){let e=l(n);return e?s(n,{currentStep:e.currentStep+1,currentTrialId:t}):null}function d(n){return s(n,{status:"DONE"})}function g(n){return s(n,{status:"CANCELLED"})}function p(n){try{localStorage.setItem(i,JSON.stringify(n))}catch(n){console.error("Error saving jobs to storage:",n)}}function m(n){p(a().filter(t=>t.id!==n))}function f(){let n=a(),t={},e=["SELF_FIXING","NEED_PRO","ASSIGNED","IN_PROGRESS"];n.forEach(n=>{e.includes(n.status)&&(t[n.caseId]||(t[n.caseId]=[]),t[n.caseId].push(n))});let i=!1;return Object.keys(t).forEach(e=>{let o=t[e];o.length>1&&(o.sort((n,t)=>new Date(t.updatedAt)-new Date(n.updatedAt)),o[0],o.slice(1).forEach(t=>{let e=n.findIndex(n=>n.id===t.id);-1!==e&&(n[e].status="CANCELLED",n[e].updatedAt=new Date().toISOString(),i=!0)}))}),i&&p(n),i}}},function(n){n.O(0,[216,158,744],function(){return n(n.s=2635)}),_N_E=n.O()}]);