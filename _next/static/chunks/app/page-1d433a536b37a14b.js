(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6746:function(e,t,n){Promise.resolve().then(n.bind(n,3789))},3789:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(3827),o=n(4090),i=n(7907),a=n(1508),l=n(4908),s=n(3151),c=n(7805),h=n(8670),u=n(2235),d=n(6490),g=n(8020),p=n(6469),m=n(3118);let x="recent_searches";function k(){try{let e=localStorage.getItem(x);return e?JSON.parse(e):[]}catch(e){return[]}}function f(){let e=(0,i.useRouter)(),[t,f]=(0,o.useState)(""),[y,b]=(0,o.useState)([]),[v,w]=(0,o.useState)(!1),[C,S]=(0,o.useState)(null),[j,T]=(0,o.useState)([]),[N,E]=(0,o.useState)(!0),[I,D]=(0,o.useState)(!1),[L,z]=(0,o.useState)([]),[B,_]=(0,o.useState)(-1),A=(0,o.useRef)(null),M=(0,o.useRef)(null);(0,o.useEffect)(()=>{E(!0),n.e(158).then(n.bind(n,4158)).then(e=>{T(e.ALL_CASES||[]),E(!1)}).catch(()=>{E(!1)})},[]);let R=(0,o.useMemo)(()=>0===j.length?[]:j.map(e=>{var t,n,r,o,i;return{...e,searchText:[(null===(t=e.id)||void 0===t?void 0:t.toLowerCase())||"",(null===(n=(0,a.r)(e.id))||void 0===n?void 0:n.toLowerCase())||"",(null===(r=e.description)||void 0===r?void 0:r.toLowerCase())||"",(null===(o=e.category)||void 0===o?void 0:o.toLowerCase())||"",(null===(i=e.area)||void 0===i?void 0:i.toLowerCase())||""].join(" ")}}),[j]);(0,o.useEffect)(()=>{S((0,l.nv)()),z(k())},[]),(0,o.useEffect)(()=>{if(!t.trim()){b([]),w(!1),D(!1);return}D(!0);let e=setTimeout(()=>{let e=t.toLowerCase().trim(),n=e.split(/\s+/).filter(e=>e.length>0),r=R.map(t=>{var r,o,i,l,s;let c=0,h=(null===(r=(0,a.r)(t.id))||void 0===r?void 0:r.toLowerCase())||"",u=(null===(o=t.description)||void 0===o?void 0:o.toLowerCase())||"",d=(null===(i=t.id)||void 0===i?void 0:i.toLowerCase())||"",g=(null===(l=t.category)||void 0===l?void 0:l.toLowerCase())||"",p=(null===(s=t.area)||void 0===s?void 0:s.toLowerCase())||"";return n.forEach(t=>{h===e?c+=100:h.startsWith(e)?c+=50:h.includes(e)?c+=30:h.includes(t)&&(c+=20),d===e?c+=80:d.includes(e)?c+=40:d.includes(t)&&(c+=15),u.includes(e)?c+=25:u.includes(t)&&(c+=10),g.includes(t)&&(c+=5),p.includes(t)&&(c+=5)}),{caseData:t,score:c}}).filter(e=>e.score>0).sort((e,t)=>t.score-e.score).slice(0,10).map(e=>e.caseData);b(r),w(r.length>0),D(!1)},200);return()=>{clearTimeout(e),D(!1)}},[t,R]);let O=(0,o.useCallback)(t=>{"indoor"===t?e.push("/home/view"):e.push("/home/outdoor")},[e]),q=(0,o.useCallback)(e=>{f(e),_(-1),e.trim()&&w(!0)},[]);(0,o.useEffect)(()=>{let e=e=>{v&&0!==y.length&&("ArrowDown"===e.key?(e.preventDefault(),_(e=>e<y.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),_(e=>e>0?e-1:-1)):"Enter"===e.key&&B>=0?(e.preventDefault(),F(y[B].id)):"Escape"===e.key&&(w(!1),_(-1),A.current&&A.current.blur()))};if(v&&y.length>0)return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v,y,B]);let F=n=>{t.trim()&&function(e){if(e&&e.trim())try{let t=k(),n=e.trim(),r=t.filter(e=>e.toLowerCase()!==n.toLowerCase()),o=[n,...r].slice(0,5);localStorage.setItem(x,JSON.stringify(o))}catch(e){console.error("Error saving recent search:",e)}}(t),f(""),b([]),w(!1),_(-1),e.push("/issue/".concat(n,"/check"))},W=e=>{f(e),w(!1),_(-1),A.current&&A.current.focus()};return(0,r.jsxs)("div",{className:"page",style:{paddingBottom:"100px"},children:[(0,r.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px",paddingTop:"20px"},children:[(0,r.jsx)("h1",{style:{fontSize:"26px",fontWeight:"700",marginBottom:"6px",color:"#212529"},children:"Tự sửa chữa nh\xe0"}),(0,r.jsx)("p",{style:{fontSize:"14px",color:"#65676b",lineHeight:"1.5"},children:"Hướng dẫn từng bước, an to\xe0n v\xe0 hiệu quả"})]}),C&&(0,r.jsxs)("div",{onClick:()=>e.push("/issue/".concat(C.caseId,"/trial/").concat(C.currentTrialId||C.recommendedTrialIds[0],"?jobId=").concat(C.id)),style:{maxWidth:"500px",margin:"0 auto 24px",padding:"16px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",color:"white",cursor:"pointer",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,r.jsx)(s.Z,{size:24,color:"white"}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsxs)("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:["Đang tự sửa: ",C.caseLabel]}),(0,r.jsxs)("div",{style:{fontSize:"12px",opacity:.9},children:["Bước ",C.currentStep+1," / ",C.recommendedTrialIds.length]})]}),(0,r.jsx)(c.Z,{size:20,color:"white"})]}),(0,r.jsx)("div",{style:{fontSize:"12px",opacity:.9,marginTop:"8px"},children:"\uD83D\uDC46 Chạm để tiếp tục"})]}),(0,r.jsxs)("div",{style:{maxWidth:"500px",margin:"0 auto 32px",position:"relative"},children:[(0,r.jsxs)("div",{style:{position:"relative"},children:[I?(0,r.jsx)(p.Z,{size:"sm",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"}}):(0,r.jsx)(h.Z,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",pointerEvents:"none"}}),(0,r.jsx)("input",{ref:A,type:"text",value:t,onChange:e=>{let t=e.target.value;t.length<=m.gh.searchQuery&&q(t)},placeholder:"T\xecm kiếm vấn đề",maxLength:m.gh.searchQuery,"aria-label":"T\xecm kiếm vấn đề","aria-autocomplete":"list","aria-expanded":v,"aria-controls":"search-results",role:"combobox",style:{width:"100%",padding:"12px 16px 12px 48px",fontSize:"var(--text-base)",border:"2px solid var(--neutral-border)",borderRadius:"var(--radius-md)",outline:"none",transition:"border-color var(--transition-base)"},onFocus:e=>{e.target.style.borderColor="var(--color-primary)",w(!0)},onBlur:e=>{e.target.style.borderColor="var(--neutral-border)",setTimeout(()=>w(!1),200)}}),t&&(0,r.jsx)("button",{onClick:()=>{f(""),b([]),w(!1)},style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(u.Z,{size:18,color:"#65676b"})})]}),v&&(0,r.jsx)("div",{id:"search-results",ref:M,role:"listbox","aria-label":"Kết quả t\xecm kiếm",style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"8px",background:"white",border:"1px solid var(--neutral-border)",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-md)",maxHeight:"400px",overflowY:"auto",zIndex:1e3},children:I?Array.from({length:3}).map((e,t)=>(0,r.jsx)("div",{style:{padding:"12px 16px",borderBottom:"1px solid #f0f0f0"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,r.jsx)(g.Z,{width:"20px",height:"20px",variant:"avatar"}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)(g.Z,{width:"60%",height:"16px",style:{marginBottom:"8px"}}),(0,r.jsx)(g.Z,{width:"80%",height:"14px"})]})]})},t)):t.trim()&&y.length>0?y.map((e,n)=>{let o=B===n,i=(0,a.r)(e.id);return(0,r.jsx)("div",{role:"option","aria-selected":o,onClick:()=>F(e.id),onMouseEnter:()=>_(n),style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #f0f0f0",background:o?"var(--color-primary-light)":"white",transition:"background var(--transition-base)"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,r.jsx)("span",{style:{fontSize:"20px"},children:e.icon}),(0,r.jsxs)("div",{style:{flex:1},children:[(0,r.jsx)("div",{style:{fontSize:"15px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:i.split(RegExp("(".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,r.jsx)("mark",{style:{background:"var(--color-primary-light)",color:"var(--color-primary)",padding:"2px 4px",borderRadius:"4px",fontWeight:"600"},children:e},n):e)}),e.description&&(0,r.jsx)("div",{style:{fontSize:"13px",color:"var(--text-secondary)",lineHeight:"1.4"},children:e.description.split(RegExp("(".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,r.jsx)("mark",{style:{background:"var(--color-primary-light)",color:"var(--color-primary)",padding:"1px 3px",borderRadius:"3px",fontWeight:"500"},children:e},n):e)})]})]})},e.id)}):t.trim()&&!I?(0,r.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"var(--text-secondary)"},children:"Kh\xf4ng t\xecm thấy kết quả"}):!t.trim()&&L.length>0?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{padding:"12px 16px",borderBottom:"1px solid var(--neutral-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("span",{style:{fontSize:"12px",fontWeight:"600",color:"var(--text-tertiary)",textTransform:"uppercase"},children:"T\xecm kiếm gần đ\xe2y"}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),function(){try{localStorage.removeItem(x)}catch(e){console.error("Error clearing recent searches:",e)}}(),z([])},style:{background:"none",border:"none",color:"var(--text-tertiary)",fontSize:"12px",cursor:"pointer",padding:"4px 8px"},"aria-label":"X\xf3a lịch sử t\xecm kiếm",children:"X\xf3a"})]}),L.map((e,t)=>(0,r.jsxs)("div",{role:"option",onClick:()=>W(e),style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #f0f0f0",display:"flex",alignItems:"center",gap:"12px",transition:"background var(--transition-base)"},onMouseEnter:e=>{e.currentTarget.style.background="var(--neutral-bg)"},onMouseLeave:e=>{e.currentTarget.style.background="white"},children:[(0,r.jsx)(d.Z,{size:16,color:"var(--text-tertiary)"}),(0,r.jsx)("span",{style:{fontSize:"14px",color:"var(--text-primary)"},children:e})]},t))]}):null}),t&&!I&&0===y.length&&(0,r.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"8px",padding:"16px",background:"white",border:"1px solid #e4e6eb",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",textAlign:"center",color:"#65676b",fontSize:"14px"},children:"Kh\xf4ng t\xecm thấy case n\xe0o"})]}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("h2",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px",color:"#65676b",textAlign:"center"},children:"Vấn đề ở đ\xe2u?"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"12px",maxWidth:"500px",margin:"0 auto"},children:[(0,r.jsxs)("button",{onClick:()=>O("indoor"),className:"card",style:{cursor:"pointer",transition:"all 0.2s",flex:1,minHeight:"140px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px 16px",border:"2px solid #e4e6eb",background:"white",borderRadius:"12px"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.1)",e.currentTarget.style.borderColor="#1877f2"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.06)",e.currentTarget.style.borderColor="#e4e6eb"},children:[(0,r.jsx)("span",{style:{fontSize:"48px",marginBottom:"12px"},children:"\uD83C\uDFE0"}),(0,r.jsx)("span",{style:{fontSize:"18px",fontWeight:"600",color:"#212529"},children:"Trong nh\xe0"})]}),(0,r.jsxs)("button",{onClick:()=>O("outdoor"),className:"card",style:{cursor:"pointer",transition:"all 0.2s",flex:1,minHeight:"140px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px 16px",border:"2px solid #e4e6eb",background:"white",borderRadius:"12px"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.1)",e.currentTarget.style.borderColor="#1877f2"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.06)",e.currentTarget.style.borderColor="#e4e6eb"},children:[(0,r.jsx)("span",{style:{fontSize:"48px",marginBottom:"12px"},children:"\uD83C\uDF27️"}),(0,r.jsx)("span",{style:{fontSize:"18px",fontWeight:"600",color:"#212529"},children:"Ngo\xe0i nh\xe0"})]})]})]})]})}},6469:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3827);function o(e){let{size:t="md",className:n="",color:o}=e;return(0,r.jsx)("div",{className:"spinner ".concat("sm"===t?"spinner-sm":"lg"===t?"spinner-lg":""," ").concat(n),style:o?{borderColor:"transparent",borderTopColor:o}:{borderColor:"rgba(255, 255, 255, 0.3)",borderTopColor:"currentColor"},role:"status","aria-label":"Đang tải",children:(0,r.jsx)("span",{className:"sr-only",children:"Đang tải..."})})}},8020:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3827);function o(e){let{width:t,height:n,className:o="",variant:i="text",count:a=1}=e,l="skeleton ".concat("text"===i?"skeleton-text":""," ").concat("avatar"===i?"skeleton-avatar":""," ").concat("card"===i?"skeleton-card":""," ").concat(o),s={width:t||("text"===i?"100%":void 0),height:n||("text"===i?"1em":"avatar"===i?"40px":void 0)};return a>1?(0,r.jsx)(r.Fragment,{children:Array.from({length:a}).map((e,t)=>(0,r.jsx)("div",{className:l,style:s},t))}):(0,r.jsx)("div",{className:l,style:s})}},1508:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});let r={"toilet-clogged":"Nghẹt bồn cầu, nước kh\xf4ng tr\xf4i","toilet-leak":"Bồn cầu r\xf2 nước","toilet-running":"Bồn cầu chảy nước li\xean tục","sink-clogged":"Nghẹt bồn rửa, nước tho\xe1t chậm","sink-leak":"Bồn rửa r\xf2 nước","faucet-drip":"V\xf2i nước nhỏ giọt li\xean tục","shower-clogged":"Nghẹt v\xf2i sen, nước kh\xf4ng tho\xe1t","shower-leak":"V\xf2i sen r\xf2 nước","shower-water-cold":"Nước tắm kh\xf4ng n\xf3ng, chỉ lạnh hoặc hơi ấm","low-pressure":"Nước chảy yếu, \xe1p lực thấp","pipe-leak":"Đường ống r\xf2 nước","pipe-burst":"Đường ống vỡ, nước phun mạnh","water-pressure":"Nước chảy yếu hoặc kh\xf4ng đều","pipe-water-noise":"Ống nước k\xeau ồn","water-smells-bad":"Nước c\xf3 m\xf9i lạ","faucet-drip-after-close":"V\xf2i nước nhỏ giọt sau khi kh\xf3a","faucet-vibrating":"V\xf2i nước rung khi mở","faucet-weak-spray":"V\xf2i nước phun tản, tia kh\xf4ng đều","floor-drain-backflow":"Nước tr\xe0n ngược từ cống s\xe0n","shower-drain-slow":"Nước tho\xe1t rất chậm khi tắm","sink-under-leak":"Nước rỉ dưới bồn rửa","water-flow-unstable":"Nước chảy l\xfac mạnh l\xfac yếu","low-water-pressure":"\xc1p lực nước yếu to\xe0n bộ nh\xe0","unstable-hot-water":"Nước n\xf3ng l\xfac c\xf3 l\xfac kh\xf4ng","multi-drain-slow":"Nhiều chỗ tho\xe1t nước đều chậm","water-splash-back":"Xả nước chỗ n\xe0y, nước bắn ngược chỗ kh\xe1c","water-smell-after-rain":"Nước c\xf3 m\xf9i sau mưa","cloudy-water-first-open":"Nước đục khi mới mở","floor-drain-smell-dry":"Cống s\xe0n bốc m\xf9i khi kh\xf4 l\xe2u","washer-drain-backflow":"Nước chảy ngược khi m\xe1y giặt xả","drain-slow-only-when-rain":"Tho\xe1t nước chậm chỉ khi mưa lớn","air-conditioner-weak-cooling":"M\xe1y lạnh m\xe1t yếu, l\xfac m\xe1t l\xfac kh\xf4ng","air-conditioner-drip-light":"M\xe1y lạnh nhỏ nước nhẹ","fan-noise-when-running":"Quạt k\xeau to khi chạy","bedroom-musty-smell":"Ph\xf2ng ngủ c\xf3 m\xf9i ẩm","floor-feels-damp":"S\xe0n ẩm, đi ch\xe2n trần thấy lạnh","floor-musty-smell":"S\xe0n c\xf3 m\xf9i ẩm, m\xf9i h\xf4i nhẹ","floor-tile-hollow-sound":"Gạch s\xe0n k\xeau lộp bộp khi đi","intermittent-smell":"M\xf9i thoảng qua rồi hết","low-frequency-hum":"Nghe tiếng \xf9 nền trong ph\xf2ng","night-house-noise":"Nh\xe0 ph\xe1t tiếng k\xeau ban đ\xeam","time-based-smell":"M\xf9i xuất hiện theo thời điểm","unknown-house-smell":"Nh\xe0 c\xf3 m\xf9i lạ, kh\xf4ng r\xf5 từ đ\xe2u","vibration-from-outside":"Nh\xe0 rung nhẹ khi c\xf3 xe lớn chạy qua","water-running-sound":"Nghe tiếng nước chảy d\xf9 kh\xf4ng d\xf9ng","outlet-spark":"Ổ cắm ph\xe1t tia lửa khi cắm","outlet-no-power":"Ổ cắm mất điện, kh\xf4ng hoạt động","switch-broken":"C\xf4ng tắc hỏng, kh\xf4ng bật/tắt được","breaker-tripped":"Cầu dao nhảy, mất điện","frequent-tripping":"Cầu dao nhảy thường xuy\xean","no-power":"Mất điện to\xe0n bộ","flickering-lights":"Đ\xe8n nhấp nh\xe1y, kh\xf4ng ổn định","burning-smell":"C\xf3 m\xf9i kh\xe9t từ ổ cắm hoặc thiết bị","hot-outlet":"Ổ cắm n\xf3ng khi chạm v\xe0o","appliance-not-working":"Thiết bị kh\xf4ng hoạt động","appliance-spark":"Thiết bị ph\xe1t tia lửa khi bật","socket-intermittent":"Ổ cắm l\xfac c\xf3 điện l\xfac kh\xf4ng","light-flicker":"Đ\xe8n chớp chớp khi bật","breaker-trips-often":"CB hay nhảy khi d\xf9ng điện","socket-warm-when-use":"Ổ cắm n\xf3ng khi sử dụng","power-strip-auto-off":"Ổ k\xe9o d\xe0i tự tắt khi d\xf9ng","switch-click-noise":"C\xf4ng tắc k\xeau lạch cạch khi bật","stove-not-igniting":"Bếp kh\xf4ng bật được","gas-leak":"C\xf3 m\xf9i gas, nghi r\xf2 rỉ","stove-heating":"Bếp kh\xf4ng n\xf3ng, kh\xf4ng đun được","hood-not-working":"M\xe1y h\xfat m\xf9i kh\xf4ng hoạt động","hood-noisy":"M\xe1y h\xfat m\xf9i k\xeau to, ồn","hood-smoke":"M\xe1y h\xfat m\xf9i kh\xf4ng h\xfat được kh\xf3i","cabinet-door-broken":"Cửa tủ hỏng, kh\xf4ng đ\xf3ng được","cabinet-sagging":"Tủ bị xệ, nghi\xeang","garbage-disposal":"M\xe1y xử l\xfd r\xe1c hỏng, kh\xf4ng hoạt động","stove-gas-smell":"Bếp c\xf3 m\xf9i gas thoang thoảng","range-hood-weak-suction":"M\xe1y h\xfat m\xf9i h\xfat yếu","sink-smell-kitchen":"Bồn rửa bếp bốc m\xf9i","stove-ignition-slow":"Bếp kh\xf3 đ\xe1nh lửa","wall-crack":"Tường c\xf3 vết nứt","wall-damp":"Tường ẩm, ướt","wall-peeling":"Tường bong tr\xf3c, sơn bong","wall-mold":"Tường c\xf3 mốc, đen","ceiling-leak":"Trần bị r\xf2 rỉ, c\xf3 nước nhỏ giọt","ceiling-crack":"Trần c\xf3 vết nứt","ceiling-stain":"Trần c\xf3 vết ố, m\xe0u v\xe0ng/n\xe2u","ceiling-sagging":"Trần bị xệ, l\xf5m xuống","floor-squeaky":"S\xe0n k\xeau c\xf3t k\xe9t khi đi","floor-loose":"S\xe0n lỏng, lung lay","floor-crack":"S\xe0n c\xf3 vết nứt","floor-uneven":"S\xe0n kh\xf4ng bằng phẳng, lồi l\xf5m","window-leak":"Cửa sổ r\xf2 nước khi mưa","window-stuck":"Cửa sổ kẹt, kh\xf4ng mở/đ\xf3ng được","window-glass-crack":"K\xednh cửa sổ vỡ, nứt","window-draft":"Cửa sổ gi\xf3 l\xf9a, lạnh","stair-loose":"Bậc thang lỏng, lung lay","stair-squeaky":"Cầu thang k\xeau khi đi","stair-rail-loose":"Tay vịn lỏng, kh\xf4ng chắc","wall-damp-slow-spread":"Tường bị ẩm, loang chậm","ceiling-water-stain":"Trần c\xf3 vết nước cũ nhưng chưa nhỏ","wall-hairline-crack":"Tường nứt nhẹ, chưa lan nhanh","ceiling-crack-sound":"Trần k\xeau lạch cạch khi y\xean tĩnh","ceiling-musty-smell":"Trần c\xf3 m\xf9i ẩm nhẹ","roof-leak":"Dột nước khi mưa","roof-tile-broken":"Ng\xf3i vỡ, thiếu","roof-sagging":"M\xe1i bị xệ, l\xf5m xuống","roof-gutter-clogged":"Ồn lớn khi mưa gi\xf3","drainage-issue":"Thấm nhẹ, ẩm tường","yard-flooding":"S\xe2n bị ngập khi mưa","fence-broken":"H\xe0ng r\xe0o hỏng, đổ","balcony-leak":"Ban c\xf4ng r\xf2 nước khi mưa","balcony-rail-loose":"Lan can ban c\xf4ng lỏng","balcony-tile-loose":"Gạch ban c\xf4ng lỏng, tuột","gutter-clogged":"Ống tho\xe1t nước mưa nghẹt, nước tr\xe0n","gutter-leak":"Ống tho\xe1t nước mưa r\xf2 rỉ","gutter-detached":"Ống tho\xe1t nước mưa bị tuột, rơi","roof-leak-only-when-rain":"M\xe1i chỉ dột khi mưa lớn","yard-drain-slow-after-rain":"S\xe2n tho\xe1t nước chậm sau mưa","outdoor-drain-smell":"Cống ngo\xe0i trời bốc m\xf9i","door-stuck":"Cửa kẹt, kh\xf4ng mở/đ\xf3ng được","door-wont-close":"Cửa kh\xf4ng đ\xf3ng được, kh\xf4ng khớp","door-squeaky":"Cửa k\xeau khi mở/đ\xf3ng","door-lock-broken":"Kh\xf3a cửa hỏng, kh\xf4ng kh\xf3a được","lock-stuck":"Kh\xf3a kẹt, kh\xf4ng xoay được","lock-key-broken":"Ch\xeca kh\xf3a g\xe3y trong ổ kh\xf3a","lock-not-latching":"Kh\xf3a kh\xf4ng khớp, kh\xf4ng v\xe0o được","hinge-loose":"Bản lề lỏng, cửa lung lay","hinge-squeaky":"Bản lề k\xeau khi mở/đ\xf3ng","hinge-rusty":"Bản lề gỉ s\xe9t, kh\xf3 mở","handle-loose":"Tay nắm lỏng, lung lay","handle-broken":"Tay nắm hỏng, g\xe3y","door-lock-hard-to-turn":"Kh\xf3a cửa kh\xf3 xoay","window-draft-noise":"Cửa sổ lọt gi\xf3, k\xeau khi c\xf3 gi\xf3","sliding-door-stuck":"Cửa l\xf9a kh\xf3 trượt, hay kẹt","door-squeak-noise":"Cửa k\xeau cọt kẹt khi mở","window-not-sealed":"Cửa sổ đ\xf3ng kh\xf4ng k\xedn, hở khe","handle-wont-turn":"Tay nắm kh\xf4ng xoay được"},o=e=>r[e]||e},4908:function(e,t,n){"use strict";n.d(t,{CC:function(){return m},Cq:function(){return o},EA:function(){return g},Jk:function(){return s},YQ:function(){return i},nv:function(){return l},rj:function(){return h},sQ:function(){return a},xI:function(){return x},zF:function(){return u},ze:function(){return d}});let r="repair_jobs";function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=i(e);if(r)return r;let o={id:"job-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),caseId:e,caseLabel:t.label,caseIcon:t.icon,status:"SELF_FIXING",currentStep:0,currentTrialId:n[0]||null,recommendedTrialIds:n,attempts:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},l=a();return l.push(o),p(l),o}function i(e){return a().find(t=>t.caseId===e&&("SELF_FIXING"===t.status||"NEED_PRO"===t.status||"ASSIGNED"===t.status||"IN_PROGRESS"===t.status))||null}function a(){try{let e=localStorage.getItem(r);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading jobs from storage:",e),[]}}function l(){return a().find(e=>"SELF_FIXING"===e.status||"NEED_PRO"===e.status||"ASSIGNED"===e.status||"IN_PROGRESS"===e.status)||null}function s(e){return a().find(t=>t.id===e)||null}function c(e,t){let n=a(),r=n.findIndex(t=>t.id===e);return -1===r?(console.error("Job not found:",e),null):(n[r]={...n[r],...t,updatedAt:new Date().toISOString()},p(n),n[r])}function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=s(e);if(!o)return null;let i={trialId:t,step:o.currentStep+1,result:n,notes:r,timestamp:new Date().toISOString()};return c(e,{attempts:[...o.attempts,i],currentStep:o.currentStep+1})}function u(e,t){let n=s(e);return n?c(e,{currentStep:n.currentStep+1,currentTrialId:t}):null}function d(e){return c(e,{status:"DONE"})}function g(e){return c(e,{status:"CANCELLED"})}function p(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(e){console.error("Error saving jobs to storage:",e)}}function m(e){p(a().filter(t=>t.id!==e))}function x(){let e=a(),t={},n=["SELF_FIXING","NEED_PRO","ASSIGNED","IN_PROGRESS"];e.forEach(e=>{n.includes(e.status)&&(t[e.caseId]||(t[e.caseId]=[]),t[e.caseId].push(e))});let r=!1;return Object.keys(t).forEach(n=>{let o=t[n];o.length>1&&(o.sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)),o[0],o.slice(1).forEach(t=>{let n=e.findIndex(e=>e.id===t.id);-1!==n&&(e[n].status="CANCELLED",e[n].updatedAt=new Date().toISOString(),r=!0)}))}),r&&p(e),r}},3118:function(e,t,n){"use strict";n.d(t,{Dn:function(){return c},gh:function(){return r},kL:function(){return l}});let r={caseCode:5e4,searchQuery:200,reportText:5e3,generalText:1e3},o=[/require\s*\(/gi,/import\s*\(/gi,/eval\s*\(/gi,/Function\s*\(/gi,/process\./gi,/fs\./gi,/child_process/gi,/execSync/gi,/spawn/gi,/__dirname/gi,/__filename/gi,/\.\.\/\.\./g,/<script/gi,/javascript:/gi,/on\w+\s*=/gi],i=/^[a-z0-9]+(?:-[a-z0-9]+)*$/,a=/^[a-z][a-zA-Z0-9]*Case$/;function l(e){if(!e||"string"!=typeof e)return{valid:!1,error:"Case code kh\xf4ng được để trống"};if(e.length>r.caseCode)return{valid:!1,error:"Case code qu\xe1 d\xe0i (tối đa ".concat(r.caseCode," k\xfd tự)")};for(let t of o)if(t.test(e))return{valid:!1,error:"Case code chứa m\xe3 nguy hiểm kh\xf4ng được ph\xe9p"};if(!/export\s+const\s+\w+Case\s*=/.test(e))return{valid:!1,error:"Case code phải c\xf3 format: export const caseNameCase = {...}"};let t=e.match(/export\s+const\s+(\w+Case)\s*=/);if(!t)return{valid:!1,error:"Kh\xf4ng t\xecm thấy t\xean case hợp lệ"};let n=t[1];if(!a.test(n))return{valid:!1,error:'T\xean case "'.concat(n,'" kh\xf4ng hợp lệ. Phải l\xe0 camelCase v\xe0 kết th\xfac bằng "Case"')};let l=e.match(/id:\s*["']([^"']+)["']/);if(!l)return{valid:!1,error:"Case phải c\xf3 field id"};let s=l[1];return i.test(s)?s.length>100?{valid:!1,error:"Case ID qu\xe1 d\xe0i (tối đa 100 k\xfd tự)"}:{valid:!0,caseName:n,caseId:s,sanitizedCode:e}:{valid:!1,error:'Case ID "'.concat(s,'" kh\xf4ng hợp lệ. Phải l\xe0 kebab-case (v\xed dụ: faucet-drip)')}}let s=new Map;function c(e){let t=Date.now(),n=t-6e4;s.has(e)||s.set(e,[]);let r=s.get(e).filter(e=>e>n);return r.length>=10?{allowed:!1,error:"Qu\xe1 nhiều requests. Vui l\xf2ng đợi một ch\xfat."}:(r.push(t),s.set(e,r),{allowed:!0})}}},function(e){e.O(0,[216,744],function(){return e(e.s=6746)}),_N_E=e.O()}]);